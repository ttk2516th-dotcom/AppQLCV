<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Trá»£ lÃ½ GiÃ¡o viÃªn</title>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100">

<!-- ===== APP ===== -->
<div class="max-w-md mx-auto min-h-screen bg-white flex flex-col">

  <!-- HEADER -->
  <header class="p-4 text-center font-bold text-xl border-b">
    ğŸ“˜ Trá»£ lÃ½ GiÃ¡o viÃªn
  </header>

  <!-- CONTENT -->
  <main class="flex-1 overflow-auto p-3">

    <!-- TAB: Lá»ŠCH THÃNG -->
    <section id="tab-month">
      <div class="flex justify-between items-center mb-2">
        <button onclick="prevMonth()">â—€</button>
        <h2 id="monthTitle" class="font-semibold"></h2>
        <button onclick="nextMonth()">â–¶</button>
      </div>

      <div class="grid grid-cols-7 text-center text-sm font-medium mb-1">
        <div>CN</div><div>T2</div><div>T3</div><div>T4</div>
        <div>T5</div><div>T6</div><div>T7</div>
      </div>

      <div id="monthGrid" class="grid grid-cols-7 gap-1 text-sm"></div>
    </section>

    <!-- TAB: Lá»ŠCH NGÃ€Y -->
    <section id="tab-day" class="hidden">
      <h2 class="font-semibold mb-2">â° Lá»‹ch theo ngÃ y</h2>
      <div id="dayTimeline" class="text-sm text-gray-500">
        (Giai Ä‘oáº¡n 2 â€“ sáº½ triá»ƒn khai chi tiáº¿t theo giá»)
      </div>
    </section>

    <!-- TAB: BÃO CÃO -->
    <section id="tab-report" class="hidden">
      <h2 class="font-semibold mb-2">ğŸ“Š BÃ¡o cÃ¡o</h2>
      <div id="reportContent" class="text-sm text-gray-500">
        (Giai Ä‘oáº¡n 2 â€“ thá»‘ng kÃª theo vai trÃ², thá»i gian)
      </div>
    </section>

    <!-- TAB: CÃ€I Äáº¶T / THÃŠM VIá»†C -->
    <section id="tab-settings" class="hidden">
      <h2 class="font-semibold mb-2">âš™ï¸ ThÃªm cÃ´ng viá»‡c</h2>

      <div class="space-y-2 text-sm">
        <input id="title" class="w-full border p-2 rounded" placeholder="TÃªn cÃ´ng viá»‡c">

        <select id="role" class="w-full border p-2 rounded">
          <option value="DAY_LOP">GiÃ¡o viÃªn dáº¡y lá»›p</option>
          <option value="CHU_NHIEM">GiÃ¡o viÃªn chá»§ nhiá»‡m</option>
          <option value="TO_TRUONG">Tá»• trÆ°á»Ÿng chuyÃªn mÃ´n</option>
          <option value="DOAN_DOI">CÃ´ng tÃ¡c Ä‘oÃ n / Ä‘á»™i</option>
          <option value="KHAC">CÃ´ng tÃ¡c khÃ¡c</option>
        </select>

        <label>Báº¯t Ä‘áº§u</label>
        <input id="start" type="datetime-local" class="w-full border p-2 rounded">

        <label>Káº¿t thÃºc</label>
        <input id="end" type="datetime-local" class="w-full border p-2 rounded">

        <select id="repeat" class="w-full border p-2 rounded">
          <option value="NONE">KhÃ´ng láº·p</option>
          <option value="DAILY">Láº·p hÃ ng ngÃ y</option>
          <option value="MONTHLY">Láº·p hÃ ng thÃ¡ng</option>
        </select>

        <button onclick="addTask()"
                class="w-full bg-blue-600 text-white py-2 rounded">
          â• LÆ°u cÃ´ng viá»‡c
        </button>
      </div>
    </section>

  </main>

  <!-- BOTTOM TABS -->
  <nav class="grid grid-cols-4 border-t text-xs text-center">
    <button onclick="showTab('month')" class="p-2">ğŸ“…<br>ThÃ¡ng</button>
    <button onclick="showTab('day')" class="p-2">â°<br>NgÃ y</button>
    <button onclick="showTab('report')" class="p-2">ğŸ“Š<br>BÃ¡o cÃ¡o</button>
    <button onclick="showTab('settings')" class="p-2">âš™ï¸<br>CÃ i Ä‘áº·t</button>
  </nav>

</div>

<!-- ===== SCRIPT ===== -->
<script>
/* ===== MODEL ===== */
let tasks = JSON.parse(localStorage.getItem('tasks') || '[]');
let currentDate = new Date();

/* ===== TAB CONTROL ===== */
function showTab(name) {
  ['month','day','report','settings'].forEach(t => {
    document.getElementById('tab-' + t).classList.add('hidden');
  });
  document.getElementById('tab-' + name).classList.remove('hidden');
}

/* ===== TASK ===== */
function addTask() {
  const task = {
    id: Date.now(),
    title: title.value,
    role: role.value,
    start: start.value,
    end: end.value,
    repeat: repeat.value
  };
  tasks.push(task);
  localStorage.setItem('tasks', JSON.stringify(tasks));
  alert('ÄÃ£ lÆ°u cÃ´ng viá»‡c');
  renderMonth();
}

/* ===== MONTH VIEW ===== */
function renderMonth() {
  const grid = document.getElementById('monthGrid');
  grid.innerHTML = '';

  const y = currentDate.getFullYear();
  const m = currentDate.getMonth();
  monthTitle.innerText = `ThÃ¡ng ${m+1} / ${y}`;

  const firstDay = new Date(y, m, 1).getDay();
  const daysInMonth = new Date(y, m+1, 0).getDate();

  for (let i = 0; i < firstDay; i++) {
    grid.appendChild(document.createElement('div'));
  }

  for (let d = 1; d <= daysInMonth; d++) {
    const cell = document.createElement('div');
    cell.className = 'border rounded p-1 min-h-[50px]';

    cell.innerHTML = `<div class="font-semibold">${d}</div>`;

    const dayTasks = tasks.filter(t =>
      new Date(t.start).getDate() === d &&
      new Date(t.start).getMonth() === m
    );

    dayTasks.forEach(() => {
      const dot = document.createElement('span');
      dot.className = 'inline-block w-2 h-2 bg-blue-500 rounded-full mr-1';
      cell.appendChild(dot);
    });

    grid.appendChild(cell);
  }
}

function prevMonth() {
  currentDate.setMonth(currentDate.getMonth() - 1);
  renderMonth();
}

function nextMonth() {
  currentDate.setMonth(currentDate.getMonth() + 1);
  renderMonth();
}

/* INIT */
renderMonth();
</script>

</body>
</html>
